<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../expandjs/expandjs.html">

<script>Polymer({is:"electron-ipc",send:function(e){var r=this;r.events&&(e=arguments.length?e:r.data,XP.toArray(r.events,!0).forEach(function(t){XP.isString(t)&&(r._ipc.send(t,e),XP.delay(function(){r.fire("ipc-data-sent",{firer:r,data:e,event:t})}))}))},_refreshListeners:function(e,r){var t=this;r&&XP.toArray(r,!0).forEach(function(e){t._ipc.removeListener(e,t.refs[e])}),e&&XP.toArray(e,!0).forEach(function(e){t.refs[e]=function(r){t.data=r,t.fire("ipc-data-received",{firer:t,data:r,event:e})},t._ipc.on(e,t.refs[e])})},properties:{data:{notify:!0,observer:"_dataChanged"},receiver:{type:Boolean,value:!1},auto:{type:Boolean,value:!1},events:{type:String,notify:!0,value:null,observer:"_eventsChanged"}},_dataChanged:function(){var e=this;return!e.receiver&&e.auto&&e._jobSend()},_eventsChanged:function(e,r){var t=this;return XP.assert(XP.isString(e)||XP.isArray(e)||XP.isVoid(e),function(){XP.CustomError.call(t,"ArgumentError","events must be string or Array of strings")}),t.events&&!t.receiver&&t.auto?t._jobSend():void(t.receiver&&t._refreshListeners(e,r))},created:function(){var e=this;e._ipc=require("electron"),e._jobSend=XP.debounce(e.send.bind(e),0),e.refs={}},_handleData:function(e){var r=this;r.data=e,r.fire("ipc-data-received",{firer:r,data:e})}});</script>
</head><body></body></html>