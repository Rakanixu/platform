!function(r){"use strict";var e=require("../assert/assertArgument"),n=require("../array/fit"),t=require("../tester/isArray"),i=require("../tester/isBindable"),o=require("../tester/isFunction"),u=require("../caster/toArray");module.exports=function(c,a,f){e(c=u(c),1,"Arrayable"),e(o(a),2,"Function"),e(i(f),3,"Array, Function or Object");var s,l,d,y=new r.Promise(function(r,e){if(t(c=n(c,a.length),!0)){for(d=c.length-1,l=d;l>=0;l-=1)if(o(c[l])){for(s=c[l];l<d;l+=1)c[l]=void 0;break}c[d]=function(n,t){(n?e:r)(n||t)}}});return a.apply(f,c),y.catch(function(){}),s?(y.catch(function(r){s(r,null)}),void y.then(function(r){s(null,r)}).catch(function(){})):y}}("undefined"!=typeof window?window:global);