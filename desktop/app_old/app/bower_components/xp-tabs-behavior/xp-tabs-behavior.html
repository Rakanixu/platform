<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../expandjs/expandjs.html">
<link rel="import" href="../xp-master-behavior/xp-master-behavior.html">
<link rel="import" href="../xp-selector/xp-selector-behavior.html">

<script>Polymer.XPTabsBehaviorImp={close:function(e){var t=this,i=t.findItem(e),r=t.findIndex(i,!0),l=t.isSelected(i,!0),s=t.findTarget();return i&&i.closable?t.fire("xp-tab-close",{firer:i,index:r,isActive:!!i.active,isModified:!!i.modified},{cancelable:!0}).defaultPrevented?null:s&&s.close&&!s.close(r)?null:(l&&t.items.length>1&&t[XP.isLast(i,t.items)?"selectPrevious":"selectNext"](),Polymer.dom(Polymer.dom(i).parentNode).removeChild(i)):null},open:function(e,t){var i=this;return requestAnimationFrame(function(){var r=i.itemTag&&document.createElement(i.itemTag),l=r&&XP.assign(r,e,{closable:!0}),s=r&&i.findTarget();return l?(i.append("items",Polymer.dom(i).appendChild(l)),s&&s.open&&(l.target=s.open({content:l.content,data:l.data})),void(t&&requestAnimationFrame(i.select.bind(i,l,!0)))):null}),i},slideLeft:function(){return this.slideTo(XP.findLast(this.items,this._bleedsLeft.bind(this)))},slideRight:function(){return this.slideTo(XP.find(this.items,this._bleedsRight.bind(this)))},slideTo:function(e){var t=this,i=t.findItem(e);return i&&(t.slider.scrollLeft=i.offsetLeft-t.slider.clientWidth/2+i.clientWidth/2),i&&t._scrolledObserver(),i},_bleedsLeft:function(e){return e.offsetLeft<this.slider.scrollLeft},_bleedsRight:function(e){return e.offsetLeft+e.clientWidth>this.slider.scrollLeft+this.slider.clientWidth},observers:["_scrolledObserver(scrolled, slider)"],properties:{defaultSelected:{value:0},itemSelector:{reflectToAttribute:!0,type:String,value:".tab"},itemTag:{readOnly:!0,type:String},items:{value:function(){return[]}},moreLeft:{notify:!0,readOnly:!0,reflectToAttribute:!0,type:Boolean,value:!1},moreRight:{notify:!0,readOnly:!0,reflectToAttribute:!0,type:Boolean,value:!1},scrollable:{reflectToAttribute:!0,type:Boolean,value:!1},scrolled:{notify:!0,readOnly:!0,type:Number,value:0},selectable:{reflectToAttribute:!0,type:Boolean,value:!0},slider:{notify:!0,readOnly:!0},tracking:{notify:!0,readOnly:!0,type:Boolean,value:!1}},_scrolledObserver:function(){var e=this;e._setScrolled(e.slider.scrollLeft),e._setMoreLeft(e.scrolled>0),e._setMoreRight(e.scrolled+e.slider.clientWidth<e.slider.scrollWidth)},attached:function(){Polymer.XPTabsBehaviorImp.mutated.apply(this)},created:function(){this.classList.add("tabs")},mutated:function(){var e=this;e._mutationHandler(),XP.onMutation(e,Polymer.XPTabsBehaviorImp.mutated.bind(e),{attributes:!0,childList:!0,subtree:!0})},ready:function(){var e=this;e.slavesMap.items=".tab",e._setSlider(Polymer.dom(e.root).querySelector(".slider"))},_closeHandler:function(e){var t=this;e.stopPropagation(),t.close(e.detail.firer)},_mutationHandler:function(){this._scrolledObserver()},_trackHandler:function(e){var t=this;t.slider.scrollLeft-=e.detail.ddx||0,t._scrolledObserver(),"track"!==e.detail.state&&requestAnimationFrame(t._setTracking.bind(t,"start"===e.detail.state))}},Polymer.XPTabsBehavior=[Polymer.XPMasterBehavior,Polymer.XPSelectorBehavior,Polymer.XPTabsBehaviorImp];</script>
</head><body></body></html>