<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../expandjs/expandjs.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../mat-paper/mat-paper.html">
<link rel="import" href="../mat-spacing/mat-spacing.html">
<link rel="import" href="../xp-media-query/xp-media-query.html">
<link rel="import" href="../xp-refirer-behavior/xp-refirer-behavior.html">
<link rel="import" href="../xp-targeter-behavior/xp-targeter-behavior.html">

</head><body><dom-module id="mat-drawer">

    <template strip-whitespace="">

        <style>:host{bottom:0;display:block;pointer-events:none !important;position:absolute;top:0;}:host([empty]:not([right])){display:none !important;}:host([narrow]){z-index:9999 !important;}:host([narrow]),
            :host([right]){right:0;}:host([narrow]),
            :host(:not([right])){left:0;}:host(:not([showed]):not([tracking])){transition:visibility 0.33s cubic-bezier(0.55, 0, 0.01, 1);visibility:hidden !important;}:host .backdrop{@apply (--layout-fit);background:hsla(0, 0%, 0%, 0.5);opacity:0;}:host([showed]) .backdrop{opacity:1;pointer-events:auto !important;}:host(:not([narrow])) .backdrop{display:none !important;}:host(:not([tracking])) .backdrop{transition:opacity 0.33s cubic-bezier(0.55, 0, 0.01, 1);}:host .wrapper{box-sizing:border-box;height:100%;}:host([narrow]) .wrapper{@apply (--layout-fit);}:host(:not([right])) .wrapper{@apply (--layout-horizontal);}:host .spacer{min-width:56px;}:host([right]) .spacer,
            :host(:not([narrow])) .spacer{display:none !important;}:host(:not([right])) .spacer{-webkit-order:2;order:2;}:host .column{box-sizing:border-box;height:100%;overflow-x:hidden;overflow-y:auto;position:relative;transition:transform 0.33s cubic-bezier(0.55, 0, 0.01, 1);}:host([padding]) .column{@apply (--mat-padding-mobile);}:host([right]) .column{transform:translateX(100%);}:host([showed]) .column{pointer-events:auto !important;}:host([showed][narrow]) .column{transform:translateX(0%);}:host([tracking]) .column{transition:none;}:host(:not([right])) .column{-webkit-order:1;max-width:400px;min-width:256px;order:1;transform:translateX(-100%);}:host .column[foreground="dark"]{box-shadow:1px 0 hsla(0, 0%, 0%, 0.12);}:host .column[foreground="dark"] ::content .header-panel[mode="seamed"] .header{background:transparent;}:host .column[foreground="light"]{box-shadow:1px 0 hsla(0, 0%, 100%, 0.12);}:host .column[foreground="light"] ::content .header-panel[mode="seamed"] .header{background:transparent;}@media (max-width: 480px){:host(:not([right])) .column{@apply (--layout-flex);max-width:320px;}}</style>

        <div class="backdrop" on-click="_handleHide"></div>

        <div class="wrapper" on-xp-select="_handleSelect">
            <div class="spacer"></div>
            <mat-paper class="column" z="[[_computeZ(narrow)]]"><content></content></mat-paper>
        </div>

    </template>

    <script>Polymer({is:"mat-drawer",behaviors:[Polymer.XPRefirerBehavior,Polymer.XPTargeterBehavior],hide:function(){var e=this;return(e.narrow||e.right)&&(e.showed=!1),e},show:function(){var e=this;return e.showed=!0,e},toggle:function(){var e=this;return e[e.showed?"hide":"show"](),e},observers:["_breakPointChanged(breakPoint, right)","_offsetChanged(backdrop, column, offset, tracking)","_handleShift(column)","_handleShift(narrow)","_handleShift(showed)"],properties:{autoHideDisabled:{type:Boolean,value:!1},backdrop:{notify:!0,readOnly:!0},background:{reflectToAttribute:!0,type:String},breakPoint:{notify:!0,type:Number},column:{notify:!0,readOnly:!0},empty:{notify:!0,readOnly:!0,reflectToAttribute:!0,type:Boolean,value:!1},narrow:{notify:!0,readOnly:!0,reflectToAttribute:!0,type:Boolean,value:!1},offset:{notify:!0,readOnly:!0,type:Number,value:0},padding:{reflectToAttribute:!0,type:Boolean,value:!1},right:{reflectToAttribute:!0,type:Boolean,value:!1},showed:{notify:!0,observer:"_showedChanged",reflectToAttribute:!0,type:Boolean,value:!1},swipeDisabled:{reflectToAttribute:!0,type:Boolean,value:!1},tracked:{notify:!0,readOnly:!0},tracker:{notify:!0,readOnly:!0},tracking:{computed:"_computeTracking(tracked)",notify:!0,readOnly:!0,reflectToAttribute:!0,type:Boolean,value:!1},width:{notify:!0,readOnly:!0,type:Number}},_computeTracking:function(e){return!!e},_computeZ:function(e){return e?16:null},_breakPointChanged:function(){var e=this;e._setNarrow(window.innerWidth<e.breakPoint),e.right||e.showed!==e.narrow||e.async(e._handleShift.bind(e,null,!0)),e.right||(e.showed=!e.narrow)},_offsetChanged:function(){var e=this,t=e.backdrop&&e.column,r=t&&(e.width-e.offset)*(e.right?1:-1);t&&(e.backdrop.style.opacity=e.tracking?e.offset/e.width:""),t&&(e.column.style.transform=e.tracking&&e.narrow?"translateX("+r+"px)":"")},_showedChanged:function(){this.isAttached&&this.fire(this.showed?"xp-show":"xp-hide",{firer:this})},attached:function(){var e=this,t=Polymer.dom(e).parentNode;e._setTracker(XP.isElement(t)?t:e.domHost),e.listen(e.tracker,"track","_handleTrack"),e.listen(window,"keyup","_handleHide"),e.listen(window,"resize","_handleResize"),e.async(e._handleShift.bind(e,null,!0))},created:function(){this.classList.add("drawer")},detached:function(){var e=this;e.unlisten(e.tracker,"track","_handleTrack"),e.unlisten(window,"keyup","_handleHide"),e.unlisten(window,"resize","_handleResize"),e._setTracker(null)},mutated:function(){this._setEmpty(!XP.hasChildren(Polymer.dom(this.column)))},ready:function(){var e=this;e._setBackdrop(Polymer.dom(e.root).querySelector(".backdrop")),e._setColumn(Polymer.dom(e.root).querySelector(".column")),e.breakPoint=e.breakPoint||(e.right?640:1280),Polymer.dom(e).observeNodes(e.mutated.bind(e))},_handleHide:function(e){27!==e.keyCode&&(e.button||e.keyCode)||this.hide()},_handleResize:function(){this._breakPointChanged()},_handleSelect:function(e){var t=this;t.autoHideDisabled||t.right||e.detail.multi||!e.detail.isSelected||t.refire(e).defaultPrevented||t.hide()},_handleShift:function(e,t){if(this.column){var r=this,i=r.right?"left":"right",n=r.right?"right":"left",o=r.findTarget()||r.tracker;r._setWidth(XP.isNumber(e)?r.width:XP.getBoundings(r.column).width),r._setOffset(XP.isNumber(e)?XP.within(e,0,r.width):r.showed?r.width:0),o&&(o.style.bottom=0,o.style.top=0,o.style.position="absolute",o.style.transition=r.tracking||t?"":n+" 0.33s cubic-bezier(0.55, 0, 0.01, 1)",o.style[n]=r.narrow?0:r.offset+"px",o.style[i]=o.style[i]||0)}},_handleTrack:function(e){var t=this,r=e.detail.state,i="mousemove"!==e.detail.sourceEvent.type&&!t.swipeDisabled,n=t.showed,o=t.tracked;if(!o&&i&&"start"===r&&(o=Polymer.dom(e).path.indexOf(t)>=0?t:e.currentTarget),o&&i&&("start"!==r||!(!t.right&&!t.narrow||o!==t&&e.detail.x>48)))switch(r){case"track":t._handleShift(t.offset+e.detail.ddx*(t.right?-1:1));break;case"start":t._setTracked(o),t._setWidth(XP.getBoundings(t.column).width),t._handleShift(t.offset+e.detail.dx*(t.right?-1:1));break;case"end":t._setTracked(null),t.showed=t.offset>t.width/2,n===t.showed&&t._handleShift()}}});</script>

</dom-module>
</body></html>