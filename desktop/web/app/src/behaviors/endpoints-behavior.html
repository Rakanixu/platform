<script>
  'use strict';

  (function() {
    var customHeaders;

    // window.Endpoints are defined on the electron index.js file (The one which is loaded in browser)
    Polymer.EndpointsBehaviorImp = {
      properties: {
        endpoints: {
          type: Object,
          notify: true,
          value: function() {
            return window.Endpoints
          }
        },
        headers: {
          type: Object,
          notify: true,
          value: function() {
            return this.getHeaders();
          }
        }
      },
      getHeaders: function() {
        return customHeaders;
      },
      setHeaders: function(headers) {
        customHeaders = headers;
      },
      getToken: function() {
        return JSON.parse(localStorage.getItem('token')).access_token;
      }
    };
  }());
</script>
