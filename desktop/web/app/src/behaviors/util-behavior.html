<script>
  'use strict';
  (function() {
    var monthNames = [
      'Jan',
      'Feb',
      'Mar',
      'Apr',
      'May',
      'Jun',
      'July',
      'Aug',
      'Sep',
      'Oct',
      'Nov',
      'Dec'
    ];

    Polymer.UtilBehaviorImp = {
      openMenu: function() {
        this.$.navDrawerPanel.openDrawer()
      },
      bytesToSize: function(bytes) {
        if (typeof bytes === 'number') {
          return window.filesize(bytes);
        }
      },
      timestampToHumanTime: function(timestamp) {
        var date = new Date(timestamp);

        return monthNames[date.getMonth()] + ' ' + date.getUTCDate() + ', ' + date.getUTCFullYear();
      },
      getIcon: function(isDir, category) {
        if (category === 'Audio Files') {
          return 'image:music-note'
        }

        if (isDir) {
          return 'mat:folder';
        } else {
          return 'mat:description';
        }
      },
      isImage: function(category) {
        return (category === 'Image Files');
      },
      isVideo: function(category){
	      return (category === 'Video');
	    },
      isNoVisualMedia: function(category) {
        return (category !== 'Image Files' && category !== 'Video');
      },
      isAudio: function(category) {
        return (category === 'Audio Files');
      },
      isDirectory: function(isDir) {
        return isDir ? 'directory' : 'file';
      },
      getAsset: function(path) {
	      return "http://localhost:8082/desktop/raw/" + path;
      },
      documentType: function(fileName) {
        var extension = fileName.split('.')[fileName.split('.').length - 1];

        switch (extension) {
          case 'doc':
          case 'docx':
            return 'blue';
          case 'xls':
          case 'xlsx':
            return 'green';
          case 'pdf':
            return 'red';
          case 'ppt':
          case 'pptx':
            return 'amber-900';
          default:
            return '';
        }

      },
      replaceAll: function(str, search, replacement) {
        return  str.replace(new RegExp(search, 'g'), replacement);
      }
    };
  }());
</script>
