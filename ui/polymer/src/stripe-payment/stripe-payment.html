<script src="https://checkout.stripe.com/checkout.js"></script>
<dom-module id="stripe-payment">
  <template>
    <style include="iron-flex iron-flex-alignment"></style>
    <style include="shared-styles">
      :host {
        display: block;
      }

      paper-button {
        margin-top: 7px;;
        background-color: #4CAF50;
      }

    </style>
    <paper-button on-tap="openStripeForm">Upgrade</paper-button>

  </template>

  <script>
    'use strict';

    (function() {
      Polymer({
        is: 'stripe-payment',
        behaviors: [],
        properties: {

        },
        ready: function() {
          this.stripe = StripeCheckout.configure({
            key: 'pk_test_6z7qNSW5GZsLNyTz2hIrK0q5',
            image: 'https://app.kazoup.io/src/static/kazoup-logo-small.png',
            locale: 'auto',
            token: function(token) {
              debugger;
              // You can access the token ID with `token.id`.
              // Get the token ID to your server-side code for use.
            }
          });
        },
        openStripeForm: function() {
          this.stripe.open({
            name: 'Kazoup',
            description: 'Upgrade to Team plan',
            zipCode: true,
            currency: 'gbp',
            amount: 999
          });
          e.preventDefault();
        }
      });
    }());
  </script>
</dom-module>
