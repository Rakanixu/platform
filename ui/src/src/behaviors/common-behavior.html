<script>
  'use strict';

  (function() {
    Polymer.CommonBehaviorImp = {
      properties: {
        loading: {
          type: Boolean,
          notify: true,
          value: false
        },
        menuAdjusted: {
          type: Boolean,
          notify: false,
          value: false
        }
      },
      openDatasourceDialog: function(e) {
        document.querySelector('#addDatasourceDialog').show();
      },
      closeDatasourceDialog: function(e) {
        document.querySelector('#addDatasourceDialog').hide();
      },
      setMenuHeight: function() {
        var height = 128;

        this.async(function() {
          _.forEach(document.querySelectorAll(this.tagName + ' .menu-content > *'), function(el) {
            height += el.getBoundingClientRect().height;
          });
          document.querySelector(this.tagName + ' .menu-content').style.height = height + 'px';
        }, 1500);
      }
    };
  }());
</script>
